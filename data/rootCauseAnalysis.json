{
  "requirements": [
    { "id": "REQ-001", "title": "System shall detect abnormal vibration within 200ms", "priority": "P1" },
    { "id": "REQ-002", "title": "System shall keep false positives below 1 per day", "priority": "P1" }
  ],
  "functions": [
    { "id": "FUN-001", "requirementId": "REQ-001", "title": "Acquire accelerometer signal" },
    { "id": "FUN-002", "requirementId": "REQ-001", "title": "Filter and normalize vibration data" },
    { "id": "FUN-003", "requirementId": "REQ-002", "title": "Classify vibration events" }
  ],
  "failureModes": [
    { "id": "FM-001", "functionId": "FUN-001", "title": "Sensor data not sampled at expected rate", "rpn": 168 },
    { "id": "FM-002", "functionId": "FUN-002", "title": "Filter introduces excessive delay", "rpn": 192 },
    { "id": "FM-003", "functionId": "FUN-003", "title": "Classifier flags normal patterns as abnormal", "rpn": 210 }
  ],
  "causes": [
    {
      "id": "C-001",
      "failureModeId": "FM-001",
      "title": "Timer interrupt jitter under load",
      "occurrence": 6,
      "detection": 4
    },
    {
      "id": "C-002",
      "failureModeId": "FM-002",
      "title": "Filter window too large for latency target",
      "occurrence": 5,
      "detection": 6
    },
    {
      "id": "C-003",
      "failureModeId": "FM-003",
      "title": "Training data missing certain normal operating modes",
      "occurrence": 7,
      "detection": 7
    }
  ],
  "effects": [
    {
      "id": "E-001",
      "failureModeId": "FM-001",
      "title": "Missed abnormal vibration events",
      "severity": 8
    },
    {
      "id": "E-002",
      "failureModeId": "FM-002",
      "title": "Detection occurs too late to mitigate damage",
      "severity": 9
    },
    {
      "id": "E-003",
      "failureModeId": "FM-003",
      "title": "Nuisance alarms â†’ operator ignores warnings",
      "severity": 7
    }
  ],
  "controls": [
    {
      "id": "CTRL-001",
      "parentType": "cause",
      "parentId": "C-001",
      "title": "CPU load guardrails + ISR prioritization",
      "controlType": "Prevention"
    },
    {
      "id": "CTRL-002",
      "parentType": "cause",
      "parentId": "C-002",
      "title": "Latency budget check in filter config",
      "controlType": "Prevention"
    },
    {
      "id": "CTRL-003",
      "parentType": "cause",
      "parentId": "C-003",
      "title": "Dataset coverage tests + drift monitoring",
      "controlType": "Detection"
    },
    {
      "id": "CTRL-004",
      "parentType": "effect",
      "parentId": "E-002",
      "title": "Emergency stop on sustained vibration threshold",
      "controlType": "Mitigation"
    },
    {
      "id": "CTRL-005",
      "parentType": "effect",
      "parentId": "E-003",
      "title": "Alarm rate limiter + confidence threshold tuning",
      "controlType": "Mitigation"
    }
  ]
}
